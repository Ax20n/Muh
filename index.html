<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Hearts for Pets</title>

<style>
    * {
        box-sizing: border-box;
        touch-action: none;
    }

    body {
        margin: 0;
        height: 100vh;
        overflow: hidden;
        font-family: system-ui, sans-serif;
        background: linear-gradient(#bde0fe, #fff);
    }

    /* Scoreboard */
    #score {
        position: fixed;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        background: white;
        padding: 10px 20px;
        border-radius: 20px;
        font-size: 18px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        z-index: 10;
    }

    /* Animals */
    .animal {
        position: fixed;
        bottom: 15px;
        width: 120px;
        height: 120px;
        background: white;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    #cat {
        left: 20px;
    }

    #dog {
        right: 20px;
    }

    /* Heart */
    .heart {
        position: absolute;
        font-size: 40px;
        cursor: grab;
        user-select: none;
    }
</style>
</head>
<body>

<div id="score">Score: 0</div>

<div id="cat" class="animal">üê±</div>
<div id="dog" class="animal">üê∂</div>

<script>
let score = 0;
const scoreEl = document.getElementById("score");
const cat = document.getElementById("cat");
const dog = document.getElementById("dog");

function spawnHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = "‚ù§Ô∏è";

    heart.style.left = Math.random() * (window.innerWidth - 40) + "px";
    heart.style.top = "-50px";

    document.body.appendChild(heart);

    let falling = true;
    let offsetX, offsetY;

    function fall() {
        if (!falling) return;
        heart.style.top = heart.offsetTop + 2 + "px";
        if (heart.offsetTop > window.innerHeight) {
            heart.remove();
            return;
        }
        requestAnimationFrame(fall);
    }
    fall();

    function startDrag(e) {
        falling = false;
        const rect = heart.getBoundingClientRect();
        const touch = e.touches ? e.touches[0] : e;
        offsetX = touch.clientX - rect.left;
        offsetY = touch.clientY - rect.top;

        document.addEventListener("mousemove", drag);
        document.addEventListener("touchmove", drag);
        document.addEventListener("mouseup", endDrag);
        document.addEventListener("touchend", endDrag);
    }

    function drag(e) {
        const touch = e.touches ? e.touches[0] : e;
        heart.style.left = touch.clientX - offsetX + "px";
        heart.style.top = touch.clientY - offsetY + "px";
    }

    function endDrag() {
        document.removeEventListener("mousemove", drag);
        document.removeEventListener("touchmove", drag);
        document.removeEventListener("mouseup", endDrag);
        document.removeEventListener("touchend", endDrag);

        if (isOverlapping(heart, cat) || isOverlapping(heart, dog)) {
            score++;
            scoreEl.textContent = "Score: " + score;
            heart.remove();
        } else {
            falling = true;
            fall();
        }
    }

    heart.addEventListener("mousedown", startDrag);
    heart.addEventListener("touchstart", startDrag);
}

function isOverlapping(a, b) {
    const r1 = a.getBoundingClientRect();
    const r2 = b.getBoundingClientRect();
    return !(
        r1.right < r2.left ||
        r1.left > r2.right ||
        r1.bottom < r2.top ||
        r1.top > r2.bottom
    );
}

setInterval(spawnHeart, 1200);
</script>

</body>
</html>
